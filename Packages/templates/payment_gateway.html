{% extends 'base.html' %}
{% load static %}
{% block title %}Select Payment Method{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/one_time_growth.css' %}">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="luxury-container">
    <div class="floating-orbs">
        <div class="orb"></div>
        <div class="orb"></div>
        <div class="orb"></div>
    </div>
    
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="premium-card">
                    <div class="premium-header text-white">
                        <h5 class="mb-0 fw-bold d-flex align-items-center">
                            <i class="fas fa-wallet me-2"></i>
                            Select Payment Method
                        </h5>
                    </div>
                    <div class="card-body p-4">
                        <!-- Order Summary -->
                        <div class="order-summary mb-4">
                            <h6 class="fw-bold text-white mb-3">Order Summary</h6>
                            <div class="description-card p-3">
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Service:</span>
                                    <span class="text-white">{{ order.service.name }}</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Quantity:</span>
                                    <span class="text-white">{{ order.quantity }}</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Phone:</span>
                                    <span class="text-white">{{ order.customer_phone }}</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Total Amount:</span>
                                    <span class="text-white fw-bold">${{ order.total_price }}</span>
                                </div>
                            </div>
                        </div>

                        <div><p>{{transaction_id}}</p></div>

                        <!-- Payment Instructions -->
                        <div class="payment-instructions mt-4">
                            <h6 class="fw-bold text-white mb-3">Payment Instructions</h6>
                            <div class="description-card p-3">
                                <ol class="premium-list mb-0">
                                    <li>Select your preferred payment method above</li>
                                    <li>You will receive a payment prompt on your phone</li>
                                    <li>Enter your mobile money PIN to complete the payment</li>
                                    <li>Wait for the confirmation message</li>
                                    <li>Our system will automatically process your order</li>
                                </ol>
                            </div>
                        </div>

                        <!-- Security Notice -->
                        <div class="text-center mt-4">
                            <p class="text-white-50 mb-0">
                                <i class="fas fa-shield-alt me-2"></i>
                                Your payment information is encrypted and secure
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/payment_gateway.js' %}"></script>
{% endblock %} 