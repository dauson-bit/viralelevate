{% extends 'base.html' %}
{% load static %}
{% block title %}Select Payment Method{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/one_time_growth.css' %}">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="luxury-container">
    <div class="floating-orbs">
        <div class="orb"></div>
        <div class="orb"></div>
        <div class="orb"></div>
    </div>
    
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="premium-card">
                    <div class="premium-header text-white">
                        <h5 class="mb-0 fw-bold d-flex align-items-center">
                            <i class="fas fa-wallet me-2"></i>
                            Select Payment Method
                        </h5>
                    </div>
                    <div class="card-body p-4">
                        <!-- Order Summary -->
                        <div class="order-summary mb-4">
                            <h6 class="fw-bold text-white mb-3">Order Summary</h6>
                            <div class="description-card p-3">
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Service:</span>
                                    <span class="text-white">{{ order.service.name }}</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Quantity:</span>
                                    <span class="text-white">{{ order.quantity }}</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Phone:</span>
                                    <span class="text-white">{{ order.customer_phone }}</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="text-white-50">Total Amount:</span>
                                    <span class="text-white fw-bold">${{ order.total_price }}</span>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Methods -->
                        <div class="payment-methods">
                            <h6 class="fw-bold text-white mb-3">Select Your Preferred Payment Method</h6>
                            <div class="row g-3">
                                <!-- M-PESA -->
                                <div class="col-md-6">
                                    <div class="payment-method-card" data-method="mpesa">
                                        <div class="d-flex align-items-center p-3">
                                            <div class="payment-icon me-3">
                                                <img src="{% static 'images/mpesa-logo.png' %}" alt="M-PESA" class="img-fluid" style="height: 40px;">
                                            </div>
                                            <div class="payment-info">
                                                <h6 class="mb-0 text-white">M-PESA</h6>
                                                <small class="text-white-50">Safaricom Mobile Money</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Tigo Pesa -->
                                <div class="col-md-6">
                                    <div class="payment-method-card" data-method="tigopesa">
                                        <div class="d-flex align-items-center p-3">
                                            <div class="payment-icon me-3">
                                                <img src="{% static 'images/tigo-logo.jpg' %}" alt="Tigo Pesa" class="img-fluid" style="height: 40px;">
                                            </div>
                                            <div class="payment-info">
                                                <h6 class="mb-0 text-white">Mix by Yas</h6>
                                                <small class="text-white-50">Tigo Mobile Money</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Airtel Money -->
                                <div class="col-md-6">
                                    <div class="payment-method-card" data-method="airtel">
                                        <div class="d-flex align-items-center p-3">
                                            <div class="payment-icon me-3">
                                                <img src="{% static 'images/airtel-logo.jpg' %}" alt="Airtel Money" class="img-fluid" style="height: 40px;">
                                            </div>
                                            <div class="payment-info">
                                                <h6 class="mb-0 text-white">Airtel Money</h6>
                                                <small class="text-white-50">Airtel Mobile Money</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Halo Pesa -->
                                <div class="col-md-6">
                                    <div class="payment-method-card" data-method="halopesa">
                                        <div class="d-flex align-items-center p-3">
                                            <div class="payment-icon me-3">
                                                <img src="{% static 'images/halopesa-logo.png' %}" alt="Halo Pesa" class="img-fluid" style="height: 40px;">
                                            </div>
                                            <div class="payment-info">
                                                <h6 class="mb-0 text-white">Halo Pesa</h6>
                                                <small class="text-white-50">Halotel Mobile Money</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Instructions -->
                        <div class="payment-instructions mt-4">
                            <h6 class="fw-bold text-white mb-3">Payment Instructions</h6>
                            <div class="description-card p-3">
                                <ol class="premium-list mb-0">
                                    <li>Select your preferred payment method above</li>
                                    <li>You will receive a payment prompt on your phone</li>
                                    <li>Enter your mobile money PIN to complete the payment</li>
                                    <li>Wait for the confirmation message</li>
                                    <li>Our system will automatically process your order</li>
                                </ol>
                            </div>
                        </div>

                        <!-- Security Notice -->
                        <div class="text-center mt-4">
                            <p class="text-white-50 mb-0">
                                <i class="fas fa-shield-alt me-2"></i>
                                Your payment information is encrypted and secure
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/payment_gateway.js' %}"></script>
{% endblock %} 